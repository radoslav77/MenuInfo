{% extends 'menus/base.html' %}
{% block style %}
<style>
    .form {
        background: #fff;

    }

    .form:active {
        transform: scale(100%);
    }
</style>
{% endblock %}
{% block body %}
<div class="input">
    <form action="{% url 'menu_input' %}" method="POST" enctype="multipart/form-data"
        style="display: flex;flex-direction: column;">
        {% csrf_token %}
        <label for="title">Title</label>
        <input type="text" name="title" required id="title" class="form">

        <label for="starter">Starter</label>

        <select class="form" name="strater" id="starter" required>
            <option value="" selected>----</option>
            {% for starter in starters %}
            <option value="{{starter}}">{{starter}}</option>
            {% endfor %}
        </select>

        <label for="main">Main</label>
        <select class="form" name="main" id="main" required>
            <option value="" selected>----</option>
            {% for main in mains %}
            <option value="{{main}}">{{main}}</option>
            {% endfor %}
        </select>

        <label for="dessert">Dessert</label>
        <select class="form" name="dessert" id="dessert" required>
            <option value="" selected>----</option>
            {% for dessert in desserts %}
            <option value="{{dessert}}">{{dessert}}</option>
            {% endfor %}
        </select>

        <label for="drink">Drink</label>
        <select class="form" name="drink" id="drink" required>
            <option value="" selected>----</option>
            {% for drink in drinks %}
            <option value="{{drink}}">{{drink}}</option>
            {% endfor %}
        </select>

        <input type="submit" style="margin-top: 10px;">

    </form>

</div>
<script>
    /*
    const StarterInputElement = document.getElementById('id_starter')
    const MainInputElement = document.getElementById('id_main')
    const DessertInputElement = document.getElementById('id_dessert')
    const LabelFormStarter = document.querySelector('[for=id_starter]')
    const LabelFormMain = document.querySelector('[for=id_main]')
    const LabelFormDessert = document.querySelector('[for=id_dessert]')
    StarterInputElement.hidden = true
    StarterInputElement.required = false
    MainInputElement.hidden = true
    MainInputElement.required = false
    DessertInputElement.hidden = true
    DessertInputElement.required = false
    LabelFormDessert.hidden = true
    LabelFormMain.hidden = true
    LabelFormStarter.hidden = true





    const FORM_DATA_URL = ('/menu_input')
    getDataForm(FORM_DATA_URL)

    // console.log(StarterInputElement, '->', MainInputElement, '->', DessertInputElement)


    var Starter_dish = []
    var Main_dish = []
    var Dessrt_dish = []


    async function getDataForm(url) {
        const res = await fetch(url)
        const data = await res.json()
        data.forEach(dish => {
            if (dish.type === 'Starters') {
                Starter_dish.push(dish)
                var x = document.createElement("OPTION");
                x.setAttribute("value", dish.title);
                var t = document.createTextNode(dish.title);
                x.appendChild(t);
                document.getElementById("starter").appendChild(x);
            }
            if (dish.type === 'Mains') {
                Main_dish.push(dish)
                Starter_dish.push(dish)
                var x = document.createElement("OPTION");
                x.setAttribute("value", dish.title);
                var t = document.createTextNode(dish.title);
                x.appendChild(t);
                document.getElementById("main").appendChild(x);
            }
            if (dish.type === 'Desserts') {
                Dessrt_dish.push(dish)
                Starter_dish.push(dish)
                var x = document.createElement("OPTION");
                x.setAttribute("value", dish.title);
                var t = document.createTextNode(dish.title);
                x.appendChild(t);
                document.getElementById("dessert").appendChild(x);
            }
            // console.log(dish.type)
        })

    }
    //console.log(Dessrt_dish)
    //console.log(StarterInputElement.children)

    function SelectValueToNone(elements) {
        let arreyElements = Array.from(elements.options)
        arreyElements.forEach(e => {
            e.value = ''
            e.innerText = ''
        })
    }

*/

</script>
{% endblock %}